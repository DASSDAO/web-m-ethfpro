(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["b6e45612"],{"03ec":function(t,e,s){"use strict";var a=s("fde0"),i=s.n(a);i.a},"9bfb":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title-bar"},[s("q-icon",{staticClass:"title-back-icon",attrs:{name:"navigate_before"},nativeOn:{click:function(e){return t.goBack(e)}}}),s("div",{staticClass:"title-tx"},[t._v(t._s(t.titleTx))])],1)},i=[];a._withStripped=!0;var r={props:["titleTx"],methods:{goBack:function(){this.$router.go(-1)}}},c=r,o=(s("a675"),s("2877")),n=Object(o["a"])(c,a,i,!1,null,null,null);n.options.__file="TitleBar.vue";e["a"]=n.exports},a675:function(t,e,s){"use strict";var a=s("ca51"),i=s.n(a);i.a},a715:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mypage"},[s("TitleBar",{attrs:{titleTx:t.title}}),s("div",{staticClass:"smitad-block"},[s("div",{staticStyle:{display:"flex","flex-direction":"column","border-bottom":"1px solid rgba(247, 241, 241, 0.726)"}},[s("div",{staticStyle:{display:"flex","justify-content":"space-around","padding-top":"10px","padding-bottom":"10px"}},[s("span",{style:"buyorder"===t.selectedTab?"color: #44566B;":"color: #6F7D8E;",on:{click:function(e){t.tabClick("buyorder")}}},[t._v(t._s(t.$t("buyorder")))]),s("span",{style:"sellorder"===t.selectedTab?"color: #44566B;":"color: #6F7D8E;",on:{click:function(e){t.tabClick("sellorder")}}},[t._v(t._s(t.$t("sellorder")))])]),s("div",{staticStyle:{display:"flex","justify-content":"space-around"}},[s("div",{staticClass:"tab-line",style:"buyorder"===t.selectedTab?"background-color:#687788;":"background-color:transparent;"}),s("div",{staticClass:"tab-line",style:"sellorder"===t.selectedTab?"background-color:#687788;":"background-color:transparent;"})])]),s("div",{staticClass:"order-block"},[s("div",{directives:[{name:"show",rawName:"v-show",value:"buyorder"===t.selectedTab,expression:"selectedTab==='buyorder'"}],staticClass:"order-list"},t._l(t.buyorders,function(e){return s("q-card",{key:e.index,staticClass:"otc-card",nativeOn:{click:function(s){t.buyCardClick(e)}}},[s("div",{staticClass:"card-item"},[s("span",{staticClass:"tx-minor",staticStyle:{"align-self":"center"}},[t._v(t._s(t.util.convertUTCTimeToLocalTime(e.create_at)))]),s("span",[t._v(t._s(t.showStatus("buy",e.status)))])]),s("div",{staticClass:"card-item"},[s("span",[t._v(t._s(t.$t("buyeth")))]),s("span",{staticClass:"tx-minor"},[t._v(t._s(t.$t("amount"))+":"+t._s(e.amount))])]),s("div",{staticClass:"card-item"},[s("span",{staticClass:"tx-minor"},[t._v(t._s(t.$t("orderno"))+"："+t._s(e.remark))]),s("span",{staticClass:"tx-minor"},[t._v(t._s(t.$t("unitprice"))+":"+t._s(e.buy_price))])]),s("div",{staticClass:"card-item",staticStyle:{"justify-content":"flex-end"}},[s("span",{staticStyle:{color:"black"}},[t._v(t._s(t.$t("totalprice"))+":"+t._s(e.value))])])])})),s("div",{directives:[{name:"show",rawName:"v-show",value:"sellorder"===t.selectedTab,expression:"selectedTab==='sellorder'"}],staticClass:"order-list"},t._l(t.sellorders,function(e){return s("q-card",{key:e.index,staticClass:"otc-card",nativeOn:{click:function(s){t.sellCardClick(e)}}},[s("div",{staticClass:"card-item"},[s("span",{staticClass:"tx-minor",staticStyle:{"align-self":"center"}},[t._v(t._s(e.create_at))]),s("span",[t._v(t._s(t.showStatus("sell",e.status)))])]),s("div",{staticClass:"card-item"},[s("span",[t._v(t._s(t.$t("sellEth")))]),s("span",{staticClass:"tx-minor"},[t._v(t._s(t.$t("amount"))+":"+t._s(e.amount))])]),s("div",{staticClass:"card-item"},[s("span",{staticClass:"tx-minor"},[t._v(t._s(t.$t("orderno"))+"："+t._s(e.remark))]),s("span",{staticClass:"tx-minor"},[t._v(t._s(t.$t("unitprice"))+":"+t._s(e.buy_price))])]),s("div",{staticClass:"card-item",staticStyle:{"justify-content":"flex-end"}},[s("span",{staticStyle:{color:"black"}},[t._v(t._s(t.$t("totalprice"))+":"+t._s(e.value))])])])}))])])],1)},i=[];a._withStripped=!0;var r=s("9bfb"),c={components:{TitleBar:r["a"]},data:function(){return{title:this.$t("myorder"),selectedTab:"buyorder",sellorders:[],buyorders:[],curtconfirmOrder:""}},mounted:function(){this.getBuyOrder(),this.getSellOrder()},methods:{showStatus:function(t,e){switch(e){case 0:return"buy"===t?this.$t("waitadrecept"):this.$t("waiturecept");case 1:return this.$t("wait4pay");case 2:return this.$t("confirmpay");case 3:return this.$t("finished2");case-1:return this.$t("alreadycanceled")}},getBuyOrder:function(){var t=this;this.$axios.get(this.global.apiconfig.otcbackapi+"/bought?buyer="+this.global.wallet.ethAddress,{headers:this.global.apiconfig.otcapiheader}).then(function(e){if(200===e.status&&0===e.data.code){if(0===e.data.data.rows.length)return;t.buyorders=e.data.data.rows}})},getSellOrder:function(){var t=this;this.$axios.get(this.global.apiconfig.otcbackapi+"/bought?seller="+this.global.wallet.ethAddress,{headers:this.global.apiconfig.otcapiheader}).then(function(e){if(200===e.status&&0===e.data.code){if(0===e.data.data.rows.length)return;t.sellorders=e.data.data.rows}})},tabClick:function(t){this.selectedTab=t},buyCardClick:function(t){this.$router.push({path:"/OrderDetail",query:{item:t}})},sellCardClick:function(t){"0"===t.status&&(this.curtconfirmOrder=t,this.showPswdInputDialog())},showPswdInputDialog:function(){var t=this;this.$q.dialog({message:this.$t("confirmOrdertip"),prompt:{model:"",type:"text"},ok:this.$t("ok"),cancel:this.$t("cancel"),color:"secondary"}).then(function(e){if(""===e)toast(t.$t("pswdnull"));else{t.$q.loading.show({message:t.$t("txsubmiting"),spinnerSize:50});var s=t.util.getWallet(t,e);t.doconfirmOrder(s)}}).catch(function(){})},doconfirmOrder:function(t){var e=this,s=this,a=this.global.otcContract.connect(t),i={value:ethers.utils.parseEther(this.investAmt+"")};a.confirmOrder(ethers.utils.parseEther(this.curtconfirmOrder.amount+""),this.curtconfirmOrder.value,i).then(function(t){console.log(t),s.$q.loading.hide(),s.util.showInfoDialog(s,t.hash,!0)}).catch(function(t){s.util.reprotError2Bmob(s,"confirmOrder",t,ethers.utils.parseEther(e.curtconfirmOrder.amount+"")+","+e.curtconfirmOrder.value+","+i.value),s.$q.loading.hide()})}},beforeDestroy:function(){}},o=c,n=(s("03ec"),s("2877")),l=Object(n["a"])(o,a,i,!1,null,"3a1bed24",null);l.options.__file="MyOTCOrder.vue";e["default"]=l.exports},ca51:function(t,e,s){},fde0:function(t,e,s){}}]);